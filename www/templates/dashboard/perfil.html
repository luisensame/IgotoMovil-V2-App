<ion-view class="bg-koua">
	<ion-content id="content_perfil" class="backgroundGrayMonturas" style="top: 4.5rem !important">
		
		<!-- formPerfil -->
		<form name="formPerfil" ng-submit="actualizarInformacion();">

			<div id="avatar_perfil" ng-click="selecconarImagen();"
				style="background-image: url({{ usuario.imagen }});">
			</div>

			<div>
				<h4 style="color: black">Datos básicos</h4>
			</div>
			<div>
				<p style="color: white">Correo</p>
				<input type="text" name="nombreCompleto" ng-model="usuario.email"
					disabled class="input-text inputypePerfil" placeholder="Ingrese su nombre" required />
			</div>
			
			<!-- nombreCompleto -->
			<div class="form-group" ng-class="{ 'has-error': formPerfil.nombreCompleto.$touched && 
				formPerfil.nombreCompleto.$invalid && !notificaciones.success}">

				<p style="color: white">Nombre</p>
				<input type="text" name="nombreCompleto" ng-model="usuario.nombreCompleto"
					ng-disabled="(usuario.idOrigen == 2) ? true : false;"
					minlength="2" maxlength="150" class="input-text inputypePerfil"
					placeholder="Ingrese su nombre" required />

				<div class="help-block" ng-messages="formPerfil.nombreCompleto.$error"
					ng-if="formPerfil.nombreCompleto.$touched  && !notificaciones.success"
					ng-class="{ 'text-danger': formPerfil.nombreCompleto.$invalid && !notificaciones.success}">
					<div ng-messages-include="{{'templates/error.html'}}"></div>
				</div>
			</div><!-- ./nombreCompleto -->

			<!-- apellidos -->
			<div class="form-group" ng-class="{ 'has-error': formPerfil.apellidos.$touched && 
				formPerfil.apellidos.$invalid && !notificaciones.success}">
				<p style="color: white">Apellidos</p>
				<input type="text" name="apellidos" ng-model="usuario.apellidos"
					ng-disabled="(usuario.idOrigen == 2) ? true : false;"
					minlength="2" maxlength="150"
					class="input-text inputypePerfil" placeholder="Ingrese su apellido" required />

				<div class="help-block" ng-messages="formPerfil.apellidos.$error"
					ng-if="formPerfil.apellidos.$touched  && !notificaciones.success"
					ng-class="{ 'text-danger': formPerfil.apellidos.$invalid && !notificaciones.success}">
					<div ng-messages-include="{{'templates/error.html'}}"></div>
				</div>
			</div><!-- ./apellidos -->


			<div>
				<h4 style="color: black">Dirección de envío</h4>
			</div>
			<div class="form-group" ng-class="{ 'has-error': formPerfil.calle.$touched && 
				formPerfil.calle.$invalid && !notificaciones.success}">
				<input type="text" name="calle" placeholder="Dirección" 
					ng-model="usuario.direccionEnvio.calle"
					class="input-text inputypePerfil" minlength="2" maxlength="200" required />

				<div class="help-block" ng-messages="formPerfil.calle.$error"
					ng-if="formPerfil.calle.$touched"
					ng-class="{ 'text-danger': formPerfil.calle.$invalid}">
					<div ng-messages-include="{{'templates/error.html'}}"></div>
				</div>
			</div>
			
			<div class="form-group" ng-class="{ 'has-error': formPerfil.numero.$touched && 
				formPerfil.numero.$invalid && !notificaciones.success}">
				<input type="text" name="numero" placeholder="Número" 
					ng-model="usuario.direccionEnvio.numero" ng-numero
					class="input-text inputypePerfil" minlength="1" maxlength="5" required />

				<div class="help-block" ng-messages="formPerfil.numero.$error"
					ng-if="formPerfil.numero.$touched"
					ng-class="{ 'text-danger': formPerfil.numero.$invalid}">
					<div ng-messages-include="{{'templates/error.html'}}"></div>
				</div>
			</div>

			<div class="form-group" ng-class="{ 'has-error': formPerfil.cp.$touched && 
				formPerfil.cp.$invalid && !notificaciones.success}">
				<input type="text" name="cp" placeholder="Código Postal" 
					ng-model="usuario.direccionEnvio.codigoPostal" codigo-postal
					class="input-text inputypePerfil" minlength="5" maxlength="5" required />

				<div class="help-block" ng-messages="formPerfil.cp.$error"
					ng-if="formPerfil.cp.$touched"
					ng-class="{ 'text-danger': formPerfil.cp.$invalid}">
					<div ng-messages-include="{{'templates/error.html'}}"></div>
				</div>
			</div>
			
			<div class="form-group">
				<input type="text" name="telefono" placeholder="Teléfono" 
					ng-model="usuario.direccionEnvio.telefono" minlength="10" 
					class="input-text inputypePerfil" maxlength="10" valid-telefono required />

				<div class="help-block" ng-messages="formPerfil.telefono.$error"
					ng-if="formPerfil.telefono.$touched"
					ng-class="{ 'text-danger': formPerfil.telefono.$invalid}">
					<div ng-messages-include="{{'templates/error.html'}}"></div>
				</div>
			</div>

			<div class="form-group" ng-class="{ 'has-error': formPerfil.estado.$touched && 
				formPerfil.estado.$invalid && !notificaciones.success}">

				<label class = "item item-input item-select">
					<div class = "input-label">
						Estado
					</div>

					<select name="estato" ng-model="usuario.direccionEnvio.estado">
						<option value="">-------</option>
						<option ng-repeat="e in listaEstado"
							value="{{ e.estado }}">{{ e.estado }}</option>
					</select>
				</label>

				<div class="help-block" ng-messages="formPerfil.estado.$error"
					ng-if="formPerfil.estado.$touched"
					ng-class="{ 'text-danger': formPerfil.estado.$invalid}">
					<div ng-messages-include="{{'templates/error.html'}}"></div>
				</div>
			</div>

			<div class="form-group" ng-class="{ 'has-error': formPerfil.municipio.$touched && 
				formPerfil.municipio.$invalid && !notificaciones.success}">
				<input type="text" name="municipio" placeholder="Municipio" 
					ng-model="usuario.direccionEnvio.municipio"
					class="input-text inputypePerfil" minlength="2" maxlength="100" required />

				<div class="help-block" ng-messages="formPerfil.municipio.$error"
					ng-if="formPerfil.municipio.$touched"
					ng-class="{ 'text-danger': formPerfil.municipio.$invalid}">
					<div ng-messages-include="{{'templates/error.html'}}"></div>
				</div>
			</div>

			<div ng-show="!procesando">
				<button type="submit" class="button button-block btn" style="background-color: black!important">
					Aceptar
				</button>
			</div>

			<div ng-show="!procesando">
				<a href="#app/main" style="text-decoration: none !important" type="submit">
					<button type="submit" class="button button-block btn" style="background-color: black!important">
						Catálogo
					</button>
				</a>
			</div>

			<div ng-show="!procesando">
				<button type="button" class="button button-block btn" style="background-color: black!important" ng-click="cerrarSesion();">
					Salir
				</button>
			</div>

			<div ng-show="!procesando">
				<button type="button" class="button button-block btn" style="background-color: black!important" ng-click="confirmarEliminarCuenta();">
					Borrar cuenta
				</button>
			</div>
			<br>
			<br>
			<br>
		</form><!-- ./formPerfil -->
	</ion-content>
</ion-view>